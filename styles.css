:root {
  --bg: #0b1020;
  --bg-elev: #121832;
  --bg-soft: #0e1427;
  --card: #171e3f;
  --card-hover: #1b234a;
  --row: #1a213f;
  --row-alt: #212a4b;
  --border: #2a3251;
  --text: #f8fafc;
  --text-2: #d2d7e5;
  --muted: #a3acc7;
  --accent: #4f7cff;
  --accent-2: #76a1ff;
  --success: #16c784;
  --neutral: #8b94b3;
  --warn: #f59e0b;
  --danger: #ef4444;

  --radius: 14px;
  --shadow: 0 16px 40px rgba(3, 8, 25, 0.6);
}

* { box-sizing: border-box }
html, body { height: 100% }
body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--text);
  background:
    radial-gradient(1200px 600px at -10% 0%, rgba(79,124,255,0.07), transparent 50%),
    radial-gradient(1000px 600px at 110% 100%, rgba(118,161,255,0.06), transparent 50%),
    var(--bg);
}

.container { max-width: 1100px; margin: 0 auto; padding: 28px 20px }
.navbar {
  display: flex; justify-content: space-between; align-items: center;
  padding: 18px 20px; position: sticky; top: 0; z-index: 10;
  backdrop-filter: saturate(1.3) blur(10px);
  background: linear-gradient(0deg, rgba(18,24,50,0.75), rgba(18,24,50,0.65));
  border-bottom: 1px solid var(--border);
}
.brand { display: flex; align-items: center; gap: 14px }
.logo {
  width: 44px; height: 44px; border-radius: 12px;
  display: grid; place-items: center; font-weight: 800;
  color: white; background: linear-gradient(135deg, var(--accent), var(--accent-2));
  box-shadow: 0 8px 24px rgba(79,124,255,0.35);
}
.brand-text .title { font-size: 1.4rem; font-weight: 800; letter-spacing: -0.02em }
.brand-text .subtitle { font-size: 0.9rem; color: var(--muted) }
.nav-actions { display: flex; align-items: center; gap: 12px }
.badge {
  padding: 8px 14px; border-radius: 999px;
  border: 1px solid rgba(79,124,255,0.35);
  color: var(--accent-2);
  background: linear-gradient(135deg, rgba(79,124,255,0.14), rgba(118,161,255,0.10));
  font-weight: 600; font-size: 0.9rem;
}

/* Cards */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  margin-bottom: 22px;
}
.card:hover { background: var(--card-hover); transition: background 200ms ease }
.card-header { padding: 22px; border-bottom: 1px solid var(--border) }
.card-title { font-size: 1.2rem; font-weight: 700 }
.card-subtitle { color: var(--muted); margin-top: 6px; font-size: 0.95rem }
.card-body { padding: 22px }

/* Form */
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px }
.form-group { display: flex; flex-direction: column; gap: 8px }
label { font-weight: 600; color: var(--text-2) }
.helper { color: var(--muted); font-size: 0.85rem }
input {
  width: 100%; padding: 12px 14px; border-radius: 12px;
  background: var(--bg-soft); border: 2px solid var(--border);
  color: var(--text); font-size: 1rem; outline: none; transition: 120ms border, 120ms box-shadow;
}
input::placeholder { color: #8b94b3 }
input:focus { border-color: var(--accent); box-shadow: 0 0 0 4px rgba(79, 124, 255, 0.15) }
.controls { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; margin-top: 12px }
.status { color: var(--muted); font-weight: 600 }

/* Buttons */
.btn {
  display: inline-flex; align-items: center; gap: 8px; white-space: nowrap;
  padding: 12px 18px; border-radius: 12px; border: 2px solid transparent; cursor: pointer;
  font-weight: 700; font-size: 0.95rem; transition: 140ms transform, 140ms box-shadow, 140ms background, 140ms border-color;
}
.btn-primary {
  color: white; background: linear-gradient(135deg, var(--accent), var(--accent-2));
  box-shadow: 0 10px 24px rgba(79, 124, 255, 0.35);
}
.btn-primary:hover { transform: translateY(-1px) }
.btn-primary:active { transform: translateY(0) }
.btn-outline {
  color: var(--text-2); background: transparent; border-color: var(--border);
}
.btn-outline:hover { border-color: var(--accent); color: var(--text) }
.btn[disabled] { opacity: 0.6; cursor: not-allowed }

/* Student header */
.student-bar { display: flex; justify-content: space-between; align-items: center; gap: 14px }
.student-ident { display: flex; align-items: center; gap: 12px }
.avatar {
  width: 44px; height: 44px; border-radius: 12px; display: grid; place-items: center;
  background: var(--bg-soft); border: 2px solid var(--border); font-weight: 800;
}
.student-name { font-weight: 800; letter-spacing: -0.02em }
.student-id { color: var(--muted); font-weight: 600 }
.student-stats { display: flex; gap: 18px; flex-wrap: wrap }
.stat-label { color: var(--muted); font-size: 0.85rem }
.stat-value { font-weight: 800 }

/* Tools */
.tools { display: flex; justify-content: space-between; align-items: center; margin: 10px 0 18px }
.select-wrap { display: inline-flex; align-items: center; gap: 8px }
.select-label { color: var(--muted); font-size: 0.9rem }
.select { min-width: 240px; padding: 10px 12px; border-radius: 12px; background: var(--bg-soft); color: var(--text); border: 2px solid var(--border) }
.select:disabled { opacity: 0.7 }

/* Classes list */
.class-list { display: flex; flex-direction: column; gap: 12px }
.class-row {
  background: var(--row); border: 1px solid var(--border); border-radius: 14px;
  padding: 14px 16px; display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center;
  transition: 140ms background, 140ms transform, 140ms box-shadow;
  cursor: pointer;
}
.class-row:hover { background: var(--row-alt); transform: translateY(-1px) }
.class-title { font-weight: 800; letter-spacing: -0.02em }
.class-right { display: flex; align-items: center; gap: 12px; min-width: 300px }
.grade-letter { font-weight: 800; color: var(--text-2) }
.grade-percent { font-weight: 800 }
.progress {
  height: 8px; width: 200px; background: #2b334f; border-radius: 999px; overflow: hidden; position: relative;
}
.progress-fill { height: 100%; width: 0%; background: var(--success); transition: width 200ms ease }
.progress-trail { position: absolute; right: 4px; top: 0; bottom: 0; width: 8px; background: rgba(255,255,255,0.12); border-radius: 999px }

/* Details panel (full width inside row) */
.class-details {
  grid-column: 1 / -1;
  background: var(--bg-soft);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  margin-top: 8px;
}
.details-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px }
.detail-meta { color: var(--muted); font-size: 0.9rem }

/* Category summary */
.category-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 8px; margin: 10px 0 }
.category-pill {
  background: var(--bg-elev); border: 1px solid var(--border); border-radius: 10px; padding: 10px;
  display: flex; justify-content: space-between; align-items: center; gap: 8px;
}
.category-name { font-weight: 600 }
.category-weight { color: var(--muted); font-size: 0.85rem }
.category-pct { font-weight: 800 }

/* Assignments */
.assignments { margin-top: 10px; padding-top: 10px; border-top: 1px dashed var(--border) }
.assignment {
  display: grid; grid-template-columns: 1fr auto; gap: 12px; padding: 10px;
  background: var(--bg-elev); border: 1px solid var(--border); border-radius: 10px; margin-bottom: 8px;
}
.assignment-name { font-weight: 600 }
.assignment-meta { color: var(--muted); font-size: 0.85rem; margin-top: 2px }
.assignment-score { font-weight: 800 }
.score-good { color: var(--success) }
.score-warn { color: var(--warn) }
.score-bad  { color: var(--danger) }
.score-neutral { color: var(--neutral) }

/* Hypo */
.hypo-form { margin-top: 10px }
.hypo-actions { display: flex; gap: 8px; align-items: center; margin-top: 8px }
.hypo-toggle { display: inline-flex; align-items: center; gap: 8px; color: var(--text-2) }
.hypo-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr auto; gap: 8px; margin-top: 8px }
.hypo-grid input, .hypo-grid select {
  padding: 10px 12px; border-radius: 10px; background: var(--bg-elev);
  border: 2px solid var(--border); color: var(--text)
}

/* Skeletons */
.skeleton-row {
  height: 64px; border-radius: 14px; background:
    linear-gradient(90deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.12) 30%, rgba(255,255,255,0.06) 60%);
  animation: shimmer 1.4s infinite;
}
@keyframes shimmer { 0% { background-position: -200px 0 } 100% { background-position: calc(200px + 100%) 0 } }

/* Footer */
.footer { text-align: center; color: var(--muted); padding: 28px 10px }

/* Toasts */
.toast-host { position: fixed; bottom: 20px; right: 20px; display: flex; flex-direction: column; gap: 10px; z-index: 20 }
.toast {
  background: var(--bg-elev); border: 1px solid var(--border); color: var(--text);
  padding: 12px 14px; border-radius: 12px; box-shadow: var(--shadow); min-width: 280px; display: flex; gap: 10px; align-items: center;
}
.toast-success { border-color: rgba(22,199,132,0.5) }
.toast-error   { border-color: rgba(239,68,68,0.5) }
.toast-close { margin-left: auto; background: transparent; border: none; color: var(--text-2); cursor: pointer }

.hidden { display: none !important }

/* Responsive */
@media (max-width: 768px) {
  .class-right { min-width: 0; width: 100%; }
  .progress { width: 140px }
  .hypo-grid { grid-template-columns: 1fr 1fr 1fr 1fr 1fr auto }
}
